{"title":"MySQL","uid":"838ae74e3a76757d637de803a615bfd9","slug":"数据库/关系型数据库/MySQL","date":"2019-03-07T16:00:00.000Z","updated":"2023-02-04T16:46:38.582Z","comments":true,"path":"api/articles/数据库/关系型数据库/MySQL.json","keywords":null,"cover":[],"content":"<h1 id=\"MySQL概述\"><a href=\"#MySQL概述\" class=\"headerlink\" title=\"MySQL概述\"></a>MySQL概述</h1><h2 id=\"数据库相关概念\"><a href=\"#数据库相关概念\" class=\"headerlink\" title=\"数据库相关概念\"></a>数据库相关概念</h2><ul>\n<li><p>数据库（DataBase，DB）</p>\n<p>存储数据的仓库，数据是有组织的进行存储的</p>\n</li>\n<li><p>数据库管理系统（DataBase Management System，DBMS）</p>\n<p>操纵和管理数据库的大型软件</p>\n</li>\n<li><p>SQL（Structured Query Lanuahge，SQL）</p>\n<p>操作关系型数据库的编程语言，定义了一套操作关系型数据库统一标准</p>\n</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>主流的关系型数据库管理系统：</p>\n<ol>\n<li>Oracle</li>\n<li>MySQL</li>\n<li>Microsoft SQL Server</li>\n<li>PostgreSQL</li>\n<li>IBM DB2</li>\n</ol></blockquote>\n<p>‍</p>\n<h2 id=\"MySQL数据库\"><a href=\"#MySQL数据库\" class=\"headerlink\" title=\"MySQL数据库\"></a>MySQL数据库</h2><p>当前官方提供了两种不同的版本：社区版（免费，不提供任何技术支持）和商业版。</p>\n<p>‍</p>\n<h1 id=\"MySQL环境搭建\"><a href=\"#MySQL环境搭建\" class=\"headerlink\" title=\"MySQL环境搭建\"></a>MySQL环境搭建</h1><h2 id=\"Windows\"><a href=\"#Windows\" class=\"headerlink\" title=\"Windows\"></a>Windows</h2><h2 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux\"></a>Linux</h2><h2 id=\"Mac\"><a href=\"#Mac\" class=\"headerlink\" title=\"Mac\"></a>Mac</h2><p>‍</p>\n<p>‍</p>\n<h1 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h1><h2 id=\"SQL通用语法\"><a href=\"#SQL通用语法\" class=\"headerlink\" title=\"SQL通用语法\"></a>SQL通用语法</h2><ul>\n<li>SQL语句可以单行或多行书写，以分号结尾</li>\n<li>SQL语句可以使用空格&#x2F;缩进来增强语句的可读性</li>\n<li>MySQL数据库的SQL语句不区分大小写，关键字建议使用大写</li>\n</ul>\n<h2 id=\"注释\"><a href=\"#注释\" class=\"headerlink\" title=\"注释\"></a>注释</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 单行注释</span>\n\n<span class=\"token comment\"># 单行注释（MySQL特有）</span>\n\n<span class=\"token comment\">/*\n    多行注释\n*/</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"SQL分类\"><a href=\"#SQL分类\" class=\"headerlink\" title=\"SQL分类\"></a>SQL分类</h2><ul>\n<li>DDL（Data Definition Language）：数据定义语言，用来定义数据库对象（数据库，表，字段）</li>\n<li>DML（Data Manipulation Language）：数据操作语言，用来对数据库中的数据进行增删改</li>\n<li>DQL（Data Query Language）：数据查询语言，用来查询数据库中表的记录</li>\n<li>DCL（Data Control Langage）：数据控制语言，用来创建数据库用户，控制数据库的访问权限</li>\n</ul>\n<h2 id=\"MySQL的数据类型\"><a href=\"#MySQL的数据类型\" class=\"headerlink\" title=\"MySQL的数据类型\"></a>MySQL的数据类型</h2><p>MySQL中的数据类型主要分为：数值型，字符串类型，日期时间类型。</p>\n<h3 id=\"数值类型\"><a href=\"#数值类型\" class=\"headerlink\" title=\"数值类型\"></a>数值类型</h3><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>大小</th>\n<th>有符号范围</th>\n<th>无符号范围</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>TINYINT</td>\n<td>1byte</td>\n<td></td>\n<td></td>\n<td>小整数值</td>\n</tr>\n<tr>\n<td>SMALLINT</td>\n<td>2bytes</td>\n<td></td>\n<td></td>\n<td>大整数值</td>\n</tr>\n<tr>\n<td>MEDIUMINT</td>\n<td>3bytes</td>\n<td></td>\n<td></td>\n<td>大整数值</td>\n</tr>\n<tr>\n<td>INT或INTEGER</td>\n<td>4bytes</td>\n<td></td>\n<td></td>\n<td>大整数值</td>\n</tr>\n<tr>\n<td>BIGINT</td>\n<td>8bytes</td>\n<td></td>\n<td></td>\n<td>极大整数</td>\n</tr>\n<tr>\n<td>FLOAT</td>\n<td>4bytes</td>\n<td></td>\n<td></td>\n<td>单精度浮点数</td>\n</tr>\n<tr>\n<td>DOUBLE</td>\n<td>8bytes</td>\n<td></td>\n<td></td>\n<td>双精度浮点数</td>\n</tr>\n<tr>\n<td>DECIMAL</td>\n<td></td>\n<td></td>\n<td></td>\n<td>小数值（精度定点数）</td>\n</tr>\n</tbody></table>\n<h3 id=\"字符串类型\"><a href=\"#字符串类型\" class=\"headerlink\" title=\"字符串类型\"></a>字符串类型</h3><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>大小</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CHAR</td>\n<td><br /></td>\n<td>定长字符串</td>\n</tr>\n<tr>\n<td>VARCHAR</td>\n<td></td>\n<td>变长字符串，存储空间在指定范围内会根据你输入的值变化</td>\n</tr>\n<tr>\n<td>TINYBLOB</td>\n<td></td>\n<td>不超过255个字符的二进制数据</td>\n</tr>\n<tr>\n<td>TINYTEXT</td>\n<td></td>\n<td>短文本字符串</td>\n</tr>\n<tr>\n<td>BLOB</td>\n<td></td>\n<td>二进制形式的长文本数据</td>\n</tr>\n<tr>\n<td>TEXT</td>\n<td></td>\n<td>长文本数据</td>\n</tr>\n<tr>\n<td>MEDIUMBLOB</td>\n<td></td>\n<td>二进制形式的中等长度文本数据</td>\n</tr>\n<tr>\n<td>MEDIUMTEXT</td>\n<td></td>\n<td>中等长度文本数据</td>\n</tr>\n<tr>\n<td>LONGBLOB</td>\n<td></td>\n<td>二进制形式的极大文本数据</td>\n</tr>\n<tr>\n<td>LONGTEXT</td>\n<td></td>\n<td>极大文本数据</td>\n</tr>\n</tbody></table>\n<h3 id=\"日期时间类型\"><a href=\"#日期时间类型\" class=\"headerlink\" title=\"日期时间类型\"></a>日期时间类型</h3><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>大小</th>\n<th>格式</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>DATE</td>\n<td></td>\n<td>YYYY-MM-DD</td>\n<td>日期值</td>\n</tr>\n<tr>\n<td>TIME</td>\n<td></td>\n<td>HH:MM:SS</td>\n<td>时间值或持续时间</td>\n</tr>\n<tr>\n<td>YEAR</td>\n<td></td>\n<td>YYYY</td>\n<td>年份值</td>\n</tr>\n<tr>\n<td>DATETIME</td>\n<td></td>\n<td>YYYY-MM-DD HH:MM:SS</td>\n<td>混合日期和时间值</td>\n</tr>\n<tr>\n<td>TIMESTAMP</td>\n<td></td>\n<td>YYYY-MM-DD HH:MM:SS</td>\n<td>混合日期和时间值，时间戳</td>\n</tr>\n</tbody></table>\n<h2 id=\"DDL\"><a href=\"#DDL\" class=\"headerlink\" title=\"DDL\"></a>DDL</h2><h3 id=\"数据库操作\"><a href=\"#数据库操作\" class=\"headerlink\" title=\"数据库操作\"></a>数据库操作</h3><h4 id=\"查询所有数据库\"><a href=\"#查询所有数据库\" class=\"headerlink\" title=\"查询所有数据库\"></a>查询所有数据库</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 查询所有数据库</span>\n<span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">DATABASES</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"创建数据库\"><a href=\"#创建数据库\" class=\"headerlink\" title=\"创建数据库\"></a>创建数据库</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 创建数据库</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span><span class=\"token punctuation\">]</span> 数据库名 <span class=\"token punctuation\">[</span><span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span> 字符集<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">COLLATE</span> 排序规则<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 如果数据库不存在则创建，存在则不创建</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> <span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> test01<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"删除数据库\"><a href=\"#删除数据库\" class=\"headerlink\" title=\"删除数据库\"></a>删除数据库</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 删除数据库</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">DATABASE</span> 数据库名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">DATABASE</span> test01<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"使用数据库\"><a href=\"#使用数据库\" class=\"headerlink\" title=\"使用数据库\"></a>使用数据库</h4><p>需要选中指定数据库后，才能操作数据库中的表。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 使用数据库</span>\n<span class=\"token keyword\">USE</span> 数据库名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">USE</span> test01<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"查询当前数据库\"><a href=\"#查询当前数据库\" class=\"headerlink\" title=\"查询当前数据库\"></a>查询当前数据库</h4><p>当数据库频繁切换时，不知道当前数据库是哪个时，可以使用该命令。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 查询当前数据库</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DATABASE</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"表操作\"><a href=\"#表操作\" class=\"headerlink\" title=\"表操作\"></a>表操作</h3><h4 id=\"查询当前数据库所有的表\"><a href=\"#查询当前数据库所有的表\" class=\"headerlink\" title=\"查询当前数据库所有的表\"></a>查询当前数据库所有的表</h4><p>需要执行<code>USE</code>​命令以后才能使用当前命令，不然会报错。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 查询当前数据库所有表</span>\n<span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"创建表\"><a href=\"#创建表\" class=\"headerlink\" title=\"创建表\"></a>创建表</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 创建表</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> 表名<span class=\"token punctuation\">(</span>\n    字段<span class=\"token number\">1</span> 字段<span class=\"token number\">1</span>类型 <span class=\"token punctuation\">[</span><span class=\"token keyword\">COMMENT</span> 字段<span class=\"token number\">1</span>注释<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    字段<span class=\"token number\">2</span> 字段<span class=\"token number\">2</span>类型 <span class=\"token punctuation\">[</span><span class=\"token keyword\">COMMENT</span> 字段<span class=\"token number\">2</span>注释<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    字段n 字段n类型 <span class=\"token punctuation\">[</span><span class=\"token keyword\">COMMENT</span> 字段n注释<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">COMMENT</span> 表注释<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">(</span>\n\tid <span class=\"token keyword\">INT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span>\n\tuname <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'用户名'</span><span class=\"token punctuation\">,</span>\n\tpwd <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'密码'</span><span class=\"token punctuation\">,</span>\n\tage <span class=\"token keyword\">INT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'年龄'</span>\n\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'用户表'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>最后一个字段后不要写逗号，不然报错。</li>\n</ul>\n<h4 id=\"查询表结构\"><a href=\"#查询表结构\" class=\"headerlink\" title=\"查询表结构\"></a>查询表结构</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 查询表结构</span>\n<span class=\"token keyword\">DESC</span> 表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DESC</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"查询指定表的建表语句\"><a href=\"#查询指定表的建表语句\" class=\"headerlink\" title=\"查询指定表的建表语句\"></a>查询指定表的建表语句</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 查询指定表的建表语句</span>\n<span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> 表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"添加表中字段\"><a href=\"#添加表中字段\" class=\"headerlink\" title=\"添加表中字段\"></a>添加表中字段</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 添加表中字段</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 <span class=\"token keyword\">ADD</span> 字段名 数据类型 <span class=\"token punctuation\">[</span><span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'性别'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>约束<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">ADD</span> sex <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'性别'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"修改字段类型\"><a href=\"#修改字段类型\" class=\"headerlink\" title=\"修改字段类型\"></a>修改字段类型</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 修改字段数据类型</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 <span class=\"token keyword\">MODIFY</span> 字段名 新数据类型<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">MODIFY</span> uname <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"修改字段名和字段类型\"><a href=\"#修改字段名和字段类型\" class=\"headerlink\" title=\"修改字段名和字段类型\"></a>修改字段名和字段类型</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 修改字段名和字段类型</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 CHANGE 旧字段名 新字段名 数据类型<span class=\"token punctuation\">[</span><span class=\"token keyword\">comment</span> 注释<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>约束<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span> CHANGE uname username <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"删除字段\"><a href=\"#删除字段\" class=\"headerlink\" title=\"删除字段\"></a>删除字段</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 删除字段</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 <span class=\"token keyword\">DROP</span> 字段名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">DROP</span> sex<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"修改表名\"><a href=\"#修改表名\" class=\"headerlink\" title=\"修改表名\"></a>修改表名</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 修改表名</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 <span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">TO</span> 新表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">TO</span> t_user<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"删除表\"><a href=\"#删除表\" class=\"headerlink\" title=\"删除表\"></a>删除表</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 删除表</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span><span class=\"token punctuation\">]</span> 表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> t_user<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"删除指定表，并重新创建该表\"><a href=\"#删除指定表，并重新创建该表\" class=\"headerlink\" title=\"删除指定表，并重新创建该表\"></a>删除指定表，并重新创建该表</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 删除表并重新创建该表</span>\n<span class=\"token keyword\">TRUNCATE</span> <span class=\"token keyword\">TABLE</span> 表名<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">TRUNCATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"DML\"><a href=\"#DML\" class=\"headerlink\" title=\"DML\"></a>DML</h2><p>数据操作语言，对数据库中表的数据记录进行增删改操作。</p>\n<h3 id=\"添加数据\"><a href=\"#添加数据\" class=\"headerlink\" title=\"添加数据\"></a>添加数据</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 给指定字段添加数据</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> 表名<span class=\"token punctuation\">(</span>字段<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>字段<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span>uname<span class=\"token punctuation\">,</span>pwd<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'zs'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'zs123456'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 给全部字段添加数据</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> 表名 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'ls'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'ls123456'</span><span class=\"token punctuation\">,</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 批量添加数据</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> 表名<span class=\"token punctuation\">(</span>字段<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>字段<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> 表名 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token string\">'java'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'java123456'</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token string\">'python'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'python123456'</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>插入数据时，指定的字段顺序需要与值的顺序一一对应</li>\n<li>字符串和日期型数据应该写在引号当中</li>\n<li>插入的数据大小，应该在字段的规定范围内</li>\n</ul>\n<h3 id=\"修改数据\"><a href=\"#修改数据\" class=\"headerlink\" title=\"修改数据\"></a>修改数据</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 修改数据</span>\n<span class=\"token keyword\">UPDATE</span> 表名 <span class=\"token keyword\">SET</span> 字段名<span class=\"token number\">1</span><span class=\"token operator\">=</span>值<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>字段名<span class=\"token number\">2</span><span class=\"token operator\">=</span>值<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">where</span> 条件<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 修改id为2的数据</span>\n<span class=\"token keyword\">UPDATE</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">SET</span> age<span class=\"token operator\">=</span><span class=\"token number\">24</span> <span class=\"token keyword\">WHERE</span> id<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>如果没有where条件会修改全部数据</li>\n</ul>\n<h3 id=\"删除数据\"><a href=\"#删除数据\" class=\"headerlink\" title=\"删除数据\"></a>删除数据</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> 表名 <span class=\"token punctuation\">[</span><span class=\"token keyword\">where</span> 条件<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 删除id为2的数据</span>\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">WHERE</span> id<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>如果没有where条件会删除所有数据</li>\n<li>DELETE语句不能删除指定字段的值，可以使用UPDATE把值修改为空</li>\n</ul>\n<h2 id=\"DQL\"><a href=\"#DQL\" class=\"headerlink\" title=\"DQL\"></a>DQL</h2><p>数据查询语言，用来查询数据库中的表的记录。</p>\n<h3 id=\"完整语法\"><a href=\"#完整语法\" class=\"headerlink\" title=\"完整语法\"></a>完整语法</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n    字段列表\n<span class=\"token keyword\">FROM</span>\n    表名列表\n<span class=\"token keyword\">WHERE</span>\n    条件列表\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span>\n    分组字段列表\n<span class=\"token keyword\">HAVING</span>\n    分组后条件列表\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span>\n    排序字段列表\n<span class=\"token keyword\">LIMIT</span>\n    分页参数  <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"基础查询\"><a href=\"#基础查询\" class=\"headerlink\" title=\"基础查询\"></a>基础查询</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 查询返回多个字段</span>\n<span class=\"token keyword\">SELECT</span> 字段<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>字段<span class=\"token number\">2</span><span class=\"token punctuation\">,</span>字段<span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">FROM</span> 表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 查询全部字段</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> 表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 设置别名</span>\n<span class=\"token keyword\">SELECT</span> 字段<span class=\"token number\">1</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">AS</span> 别名<span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>字段<span class=\"token number\">2</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">AS</span> 别名<span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>字段<span class=\"token number\">3</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">AS</span> 别名<span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">FROM</span> 表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> uname <span class=\"token keyword\">AS</span> <span class=\"token string\">'用户名'</span><span class=\"token punctuation\">,</span> age <span class=\"token keyword\">AS</span> <span class=\"token string\">'年龄'</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> uname <span class=\"token string\">'用户名'</span><span class=\"token punctuation\">,</span> age <span class=\"token string\">'年龄'</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>去重查询AS可以省略，但是不建议省略</li>\n<li>不推荐使用*来查询全部字段，会影响效率，并且可读性不好</li>\n</ul>\n<h3 id=\"去重查询\"><a href=\"#去重查询\" class=\"headerlink\" title=\"去重查询\"></a>去重查询</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DISTINCT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表名<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"运算符\"><a href=\"#运算符\" class=\"headerlink\" title=\"运算符\"></a>运算符</h3><h4 id=\"比较运算符\"><a href=\"#比较运算符\" class=\"headerlink\" title=\"比较运算符\"></a>比较运算符</h4><table>\n<thead>\n<tr>\n<th>符号</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>&gt;</td>\n<td>大于</td>\n</tr>\n<tr>\n<td>&gt;&#x3D;</td>\n<td>大于等于</td>\n</tr>\n<tr>\n<td>&lt;</td>\n<td>小于</td>\n</tr>\n<tr>\n<td>&lt;&#x3D;</td>\n<td>小于等于</td>\n</tr>\n<tr>\n<td>&#x3D;</td>\n<td>等于</td>\n</tr>\n<tr>\n<td>&lt;&gt;或!&#x3D;</td>\n<td>不等于</td>\n</tr>\n<tr>\n<td>BETWEEN…AND…</td>\n<td>在某个范围之内（包含最小，最大值），小的数在前</td>\n</tr>\n<tr>\n<td>IN(…)</td>\n<td>在IN之后的列表值之一</td>\n</tr>\n<tr>\n<td>ANY&#x2F;SOME</td>\n<td>有任意结果满足即可</td>\n</tr>\n<tr>\n<td>ALL</td>\n<td>必须全部</td>\n</tr>\n<tr>\n<td>LIKE 占位符</td>\n<td>模糊匹配（_匹配单个字符，%匹配任意字符）</td>\n</tr>\n<tr>\n<td>IS NULL</td>\n<td>是NULL</td>\n</tr>\n</tbody></table>\n<h4 id=\"逻辑运算符\"><a href=\"#逻辑运算符\" class=\"headerlink\" title=\"逻辑运算符\"></a>逻辑运算符</h4><table>\n<thead>\n<tr>\n<th>符号</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>AND或&amp;&amp;</td>\n<td>并且</td>\n</tr>\n<tr>\n<td>OR或||</td>\n<td>或者</td>\n</tr>\n<tr>\n<td>NOT或!</td>\n<td>非</td>\n</tr>\n</tbody></table>\n<h3 id=\"条件查询\"><a href=\"#条件查询\" class=\"headerlink\" title=\"条件查询\"></a>条件查询</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 基本语法</span>\n<span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表名 <span class=\"token keyword\">WHERE</span> 条件列表<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"聚合函数\"><a href=\"#聚合函数\" class=\"headerlink\" title=\"聚合函数\"></a>聚合函数</h3><p>分组查询时通常要搭配聚合函数来使用。聚合函数就是将一列数据作为一个整体，进行纵向计算。</p>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>count</td>\n<td>统计数量</td>\n</tr>\n<tr>\n<td>max</td>\n<td>最大值</td>\n</tr>\n<tr>\n<td>min</td>\n<td>最小值</td>\n</tr>\n<tr>\n<td>avg</td>\n<td>平均值</td>\n</tr>\n<tr>\n<td>sum</td>\n<td>求和</td>\n</tr>\n</tbody></table>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 基础语法</span>\n<span class=\"token keyword\">SELECT</span> 聚合函数<span class=\"token punctuation\">(</span>字段列表<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> 表名<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> 表名<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> 表名<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>null值不参与聚合函数的计算，包括统计数量</li>\n</ul>\n<h3 id=\"分组查询\"><a href=\"#分组查询\" class=\"headerlink\" title=\"分组查询\"></a>分组查询</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 分组查询</span>\n<span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表名 <span class=\"token punctuation\">[</span><span class=\"token keyword\">WHERE</span> 条件<span class=\"token punctuation\">]</span> <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> 分组字段名 <span class=\"token punctuation\">[</span><span class=\"token keyword\">HAVING</span> 分组后过滤条件<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><strong>where和having的区别：</strong></p>\n<ol>\n<li>where是分组前进行过滤，不满足where条件的不参与分组。而having是分组之后对结果进行过滤。</li>\n<li>where不能对聚合函数进行判断，而having可以。</li>\n</ol></blockquote>\n<ul>\n<li>分组函数一般为聚合函数和分组字段，查询其他字段无任何意义</li>\n</ul>\n<h3 id=\"排序查询\"><a href=\"#排序查询\" class=\"headerlink\" title=\"排序查询\"></a>排序查询</h3><p>排序方式只有两种：ASC（升序，默认）和DESC（降序）</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 排序查询</span>\n<span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表名 <span class=\"token punctuation\">[</span><span class=\"token keyword\">WHERE</span> 条件<span class=\"token punctuation\">]</span> <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> 排序字段 排序方式<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>排序字段<span class=\"token number\">2</span> 排序方式<span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li>如果多个字段参与排序，当第一个字段值相同时，才会根据第二个字段进行排序。</li>\n</ul>\n<h3 id=\"分页查询\"><a href=\"#分页查询\" class=\"headerlink\" title=\"分页查询\"></a>分页查询</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 分页查询</span>\n<span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表名 <span class=\"token keyword\">LIMIT</span> 起始索引<span class=\"token punctuation\">,</span>查询数据记录<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li>起始索引从0开始，起始索引&#x3D;（查询页码-1） * 每页显示记录数</li>\n<li>分页查询是数据库的方言，不同的数据库有不同的实现，MySQL中式LIMIT</li>\n<li>如果查询的是第一页数据，起始索引可以省略直接简写成LIMIT 10</li>\n</ul>\n<h3 id=\"执行顺序\"><a href=\"#执行顺序\" class=\"headerlink\" title=\"执行顺序\"></a>执行顺序</h3><ol>\n<li>执行FROM，决定要查询哪一张表</li>\n<li>执行WHERE，来指定查询的条件</li>\n<li>执行GROUP BY，来执行分组</li>\n<li>执行SELECT语句，决定要返回哪些字段</li>\n<li>执行ORDER BY语句，来排序</li>\n<li>最后执行LIMIT，来分页</li>\n</ol>\n<h2 id=\"DCL（开发人员使用的很少）\"><a href=\"#DCL（开发人员使用的很少）\" class=\"headerlink\" title=\"DCL（开发人员使用的很少）\"></a>DCL（开发人员使用的很少）</h2><p>用来管理数据库用户，控制数据库的访问权限。</p>\n<h3 id=\"用户管理相关\"><a href=\"#用户管理相关\" class=\"headerlink\" title=\"用户管理相关\"></a>用户管理相关</h3><h4 id=\"查询用户\"><a href=\"#查询用户\" class=\"headerlink\" title=\"查询用户\"></a>查询用户</h4><p>用户的信息都是存储在系统数据库mysql的user表中。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 使用数据库</span>\n<span class=\"token keyword\">USE</span> mysql<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 查询user表信息</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"创建用户\"><a href=\"#创建用户\" class=\"headerlink\" title=\"创建用户\"></a>创建用户</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'用户名'</span><span class=\"token variable\">@'主机名'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'密码'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>目前只是创建了用户，并没有给用户分配权限</li>\n<li>如果需要在任意主机上访问，将localhost替换成%即可</li>\n</ul>\n<h4 id=\"修改用户密码\"><a href=\"#修改用户密码\" class=\"headerlink\" title=\"修改用户密码\"></a>修改用户密码</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'用户名'</span><span class=\"token variable\">@'主机名'</span> IDENRIFIED <span class=\"token keyword\">WITH</span> mysql_native_password <span class=\"token keyword\">BY</span> <span class=\"token string\">'新密码'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"删除用户\"><a href=\"#删除用户\" class=\"headerlink\" title=\"删除用户\"></a>删除用户</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'用户名'</span><span class=\"token variable\">@'主机名'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"权限控制\"><a href=\"#权限控制\" class=\"headerlink\" title=\"权限控制\"></a>权限控制</h3><p>MySQL中定义了很多权限，但是常用的就以下几种：</p>\n<table>\n<thead>\n<tr>\n<th>权限</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ALL，ALL PRIVILEGES</td>\n<td>所有权限</td>\n</tr>\n<tr>\n<td>SELECT</td>\n<td>查询数据</td>\n</tr>\n<tr>\n<td>INSERT</td>\n<td>插入数据</td>\n</tr>\n<tr>\n<td>UPDATE</td>\n<td>修改数据</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td>删除数据</td>\n</tr>\n<tr>\n<td>ALTER</td>\n<td>修改表</td>\n</tr>\n<tr>\n<td>DROP</td>\n<td>删除数据库&#x2F;表&#x2F;视图</td>\n</tr>\n<tr>\n<td>CREATE</td>\n<td>创建数据库&#x2F;表</td>\n</tr>\n</tbody></table>\n<h4 id=\"查询权限\"><a href=\"#查询权限\" class=\"headerlink\" title=\"查询权限\"></a>查询权限</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SHOW</span> GRANTS <span class=\"token keyword\">FOR</span> <span class=\"token string\">'用户名'</span><span class=\"token variable\">@'主机名'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"授予权限\"><a href=\"#授予权限\" class=\"headerlink\" title=\"授予权限\"></a>授予权限</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">GRANT</span> 权限列表 <span class=\"token keyword\">ON</span> 数据库名<span class=\"token punctuation\">.</span>表名 <span class=\"token keyword\">TO</span> <span class=\"token string\">'用户名'</span><span class=\"token variable\">@'主机名'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"撤销权限\"><a href=\"#撤销权限\" class=\"headerlink\" title=\"撤销权限\"></a>撤销权限</h4><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">REVOKE</span> 权限列表 <span class=\"token keyword\">ON</span> 数据库名<span class=\"token punctuation\">.</span>表名 <span class=\"token keyword\">FROM</span> <span class=\"token string\">'用户名'</span><span class=\"token variable\">@'主机名'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h1 id=\"函数\"><a href=\"#函数\" class=\"headerlink\" title=\"函数\"></a>函数</h1><p>函数就是一段可以直接被另一段程序调用的程序或代码。</p>\n<h2 id=\"字符串函数\"><a href=\"#字符串函数\" class=\"headerlink\" title=\"字符串函数\"></a>字符串函数</h2><p>常用的字符串函数：</p>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CONCAT(s1,s2,…)</td>\n<td>字符串拼接</td>\n</tr>\n<tr>\n<td>LOWER(str)</td>\n<td>将字符串全部转为小写</td>\n</tr>\n<tr>\n<td>UPPER(str)</td>\n<td>将字符串全部转为大写</td>\n</tr>\n<tr>\n<td>LPAD(str,n,pad)</td>\n<td>左填充，用字符串pad对str左边进行填充，达到n个字符串长度</td>\n</tr>\n<tr>\n<td>RPAD(str,n,pad)</td>\n<td>右填充，用字符串pad对str右边进行填充，达到n个字符串长度</td>\n</tr>\n<tr>\n<td>TRIM(str)</td>\n<td>去掉字符串头部和尾部的空格</td>\n</tr>\n<tr>\n<td>SUBSTRING(str,start,len)</td>\n<td>返回从字符串str从start位置起的len个长度的字符串</td>\n</tr>\n</tbody></table>\n<h2 id=\"数值函数\"><a href=\"#数值函数\" class=\"headerlink\" title=\"数值函数\"></a>数值函数</h2><p>常用的数值函数：</p>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CEIL(x)</td>\n<td>向上取整</td>\n</tr>\n<tr>\n<td>FLOOR(x)</td>\n<td>向下取整</td>\n</tr>\n<tr>\n<td>MOD(x,y)</td>\n<td>返回x&#x2F;y的模</td>\n</tr>\n<tr>\n<td>RAND()</td>\n<td>返回0~1内的随机数</td>\n</tr>\n<tr>\n<td>ROUND(x,y)</td>\n<td>求参数x四舍五入的值，保留y位小数</td>\n</tr>\n</tbody></table>\n<h2 id=\"日期函数\"><a href=\"#日期函数\" class=\"headerlink\" title=\"日期函数\"></a>日期函数</h2><p>常用的日期函数：</p>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CURDATE()</td>\n<td>返回当前日期</td>\n</tr>\n<tr>\n<td>CURTIME()</td>\n<td>返回当前时间</td>\n</tr>\n<tr>\n<td>NOW()</td>\n<td>返回当前日期和时间</td>\n</tr>\n<tr>\n<td>YEAR(date)</td>\n<td>获取指定date的年份</td>\n</tr>\n<tr>\n<td>MONTH(date)</td>\n<td>获取指定date的月份</td>\n</tr>\n<tr>\n<td>DAY(date)</td>\n<td>获取指定date的日期</td>\n</tr>\n<tr>\n<td>DATE_ADD(date,INTERVAL expr type)</td>\n<td>返回一个日期&#x2F;时间值加上一个时间间隔expr后的时间值</td>\n</tr>\n<tr>\n<td>DATEDIFF(date1,date2)</td>\n<td>返回起始时间date1和date2之间的天数</td>\n</tr>\n</tbody></table>\n<h2 id=\"流程函数\"><a href=\"#流程函数\" class=\"headerlink\" title=\"流程函数\"></a>流程函数</h2><p>在SQL语句中经常用来实现条件筛选，从而提高语句效率。</p>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>IF(value,t,f)</td>\n<td>如果value为true，返回t，否则返回f</td>\n</tr>\n<tr>\n<td>IFNULL(value1,value2)</td>\n<td>如果value1不为空返回value1，否则返回value2</td>\n</tr>\n<tr>\n<td>CASE WHEN [val1] THEN [res1]…ELSE [default] END</td>\n<td>如果val1为true，返回res1，否则返回default默认值</td>\n</tr>\n<tr>\n<td>CASE [expr] WHEN [val1] THEN [res1]…ELSE [default] END</td>\n<td>如果expr的值等于val1，返回res1否则返回default默认值</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"约束\"><a href=\"#约束\" class=\"headerlink\" title=\"约束\"></a>约束</h1><p>约束是作用于表中字段上的规则，用于限制存储在表中的数据。可以保证数据库中数据的正确，有效性和完整性。</p>\n<p>主要约束：</p>\n<table>\n<thead>\n<tr>\n<th>约束</th>\n<th>说明</th>\n<th>关键字</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>非空约束</td>\n<td>限制该字段的数据不能为null</td>\n<td>NOT NULL</td>\n</tr>\n<tr>\n<td>唯一约束</td>\n<td>保证该字段数据是唯一的，不重复的</td>\n<td>UNIQUE</td>\n</tr>\n<tr>\n<td>主键约束</td>\n<td>主键是一行数据的唯一标识，要求非空且唯一</td>\n<td>PRIMARY KEY</td>\n</tr>\n<tr>\n<td>默认约束</td>\n<td>保存数据是，如果未指定该字段的值，则采用默认的值</td>\n<td>DEFAULT</td>\n</tr>\n<tr>\n<td>检查约束（8.0.16版本之后）</td>\n<td>保证字段值满足某一条件</td>\n<td>CHECK</td>\n</tr>\n<tr>\n<td>外键约束</td>\n<td>用来让两张表的数据之间建立连接，保证数据的一致性和完整性</td>\n<td>FOREIGN KEY</td>\n</tr>\n</tbody></table>\n<ul>\n<li>自动递增关键字：<code>AUTO_INCREMENT</code>​</li>\n</ul>\n<h2 id=\"声明约束\"><a href=\"#声明约束\" class=\"headerlink\" title=\"声明约束\"></a>声明约束</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- id:主键，并自定递增，姓名：不能为空，age：大于0小于120，状态：如果没有指定默认为1</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> stu<span class=\"token punctuation\">(</span>\n    id <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">AUTO_INCREMENT</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'主键'</span><span class=\"token punctuation\">,</span>\n    name <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'名字'</span><span class=\"token punctuation\">,</span>\n    age <span class=\"token keyword\">INT</span> <span class=\"token keyword\">CHECK</span><span class=\"token punctuation\">(</span>age<span class=\"token operator\">></span><span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> age<span class=\"token operator\">&lt;</span><span class=\"token number\">120</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'年龄'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">status</span> <span class=\"token keyword\">char</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">'1'</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'状态'</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'学生表'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"外键约束\"><a href=\"#外键约束\" class=\"headerlink\" title=\"外键约束\"></a>外键约束</h2><p>外键是用来让两张表的数据之间建立连接，从而保证数据的一致性和完整性。两张表之间，有外键的表被称为子表，主键的表被称为父表。</p>\n<h3 id=\"创建表时添加外键\"><a href=\"#创建表时添加外键\" class=\"headerlink\" title=\"创建表时添加外键\"></a>创建表时添加外键</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> 表名<span class=\"token punctuation\">(</span>\n    字段 数据类型<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CONSTRAINT</span> <span class=\"token punctuation\">[</span>外键名称<span class=\"token punctuation\">]</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>外键字段名<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> 主表<span class=\"token punctuation\">(</span>主表列名<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"修改语句添加外键\"><a href=\"#修改语句添加外键\" class=\"headerlink\" title=\"修改语句添加外键\"></a>修改语句添加外键</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> 外键名称 <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>外键名称<span class=\"token punctuation\">)</span> REDERENCES 主表<span class=\"token punctuation\">(</span>主表列名<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"删除外键\"><a href=\"#删除外键\" class=\"headerlink\" title=\"删除外键\"></a>删除外键</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 <span class=\"token keyword\">DROP</span> <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> 外键名称<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"外键的删除和更新行为\"><a href=\"#外键的删除和更新行为\" class=\"headerlink\" title=\"外键的删除和更新行为\"></a>外键的删除和更新行为</h3><table>\n<thead>\n<tr>\n<th>行为</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>NO ACTION</td>\n<td>当在父表中删除&#x2F;更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除</td>\n</tr>\n<tr>\n<td>RESTRICT</td>\n<td>当在父表中删除&#x2F;更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除</td>\n</tr>\n<tr>\n<td>CASCADE</td>\n<td>当在父表中删除&#x2F;更新对应记录时，如果有，则也删除&#x2F;更新外键在子表中的数据</td>\n</tr>\n<tr>\n<td>SET NULL</td>\n<td>当在父表中删除对应记录时，首先检查记录是否有对应外键，如果有则设置子表中外键值为null（该外键需要允许为null）</td>\n</tr>\n<tr>\n<td>SET DEFAULT</td>\n<td>父表有变更时，子表将外键列设置成一个默认的值（Innodb不支持）</td>\n</tr>\n</tbody></table>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> 表名 <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> 外键名称 <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>外键名称<span class=\"token punctuation\">)</span> REDERENCES 主表<span class=\"token punctuation\">(</span>主表列名<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">UPDATE</span> <span class=\"token keyword\">RESTRICT</span> <span class=\"token keyword\">ON</span> <span class=\"token keyword\">DELETE</span> <span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h1 id=\"多表查询\"><a href=\"#多表查询\" class=\"headerlink\" title=\"多表查询\"></a>多表查询</h1><p>多表查询就是在多张表中查询数据。</p>\n<h2 id=\"多表关系\"><a href=\"#多表关系\" class=\"headerlink\" title=\"多表关系\"></a>多表关系</h2><p>各个表之间存在各种联系，基本上分为三种：</p>\n<ul>\n<li><p>一对多（多对一）</p>\n<p>例如部门与员工，一个部门对应多个员工，一个员工对应一个部门。</p>\n<p>通常在多的一方建立外键，指向一的一方的主键。</p>\n</li>\n<li><p>多对多</p>\n<p>例如学生和课程的管理，一个学生可以选择多门课程，一门课程可以供多个学生选择。</p>\n<p>通常需要建立一张中间表，中间表至少包含两个外键来关联两方的主键。</p>\n</li>\n<li><p>一对一</p>\n<p>例如用户与用户信息</p>\n<p>一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率。</p>\n<p>在任意一方加入外键，关联另一方的主键，兵器设置外键是唯一的。</p>\n</li>\n</ul>\n<h2 id=\"笛卡尔积现象\"><a href=\"#笛卡尔积现象\" class=\"headerlink\" title=\"笛卡尔积现象\"></a>笛卡尔积现象</h2><p>当执行以下代码去多个表中查询数据的SQL，会发生笛卡尔积现象。笛卡尔积值在数据中，两个集合，集合A和集合B的所有组合情况。</p>\n<p>多表查询时需要消除无效的笛卡尔积。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> stu<span class=\"token punctuation\">,</span>class<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>消除无效笛卡尔积只需要添加where条件即可</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> stu a<span class=\"token punctuation\">,</span>class b <span class=\"token keyword\">WHERE</span> a<span class=\"token punctuation\">.</span>c_id <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"多表查询分类\"><a href=\"#多表查询分类\" class=\"headerlink\" title=\"多表查询分类\"></a>多表查询分类</h2><ul>\n<li><p>连接查询</p>\n<ul>\n<li><p>内连接：相当去查询A，B交集部分的数据</p>\n</li>\n<li><p>外连接：</p>\n<ul>\n<li>左外连接：查询左表所有数据，以及两张表交集部分数据</li>\n<li>右外连接：查询右表所有数据，以及两张表交集部分数据</li>\n</ul>\n</li>\n<li><p>子连接：当前表与自身的连接查询，自连接必须使用表别名</p>\n</li>\n</ul>\n</li>\n<li><p>子查询</p>\n</li>\n</ul>\n<h2 id=\"内连接\"><a href=\"#内连接\" class=\"headerlink\" title=\"内连接\"></a>内连接</h2><ul>\n<li><p>隐式内连接</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表<span class=\"token number\">1</span>，表<span class=\"token number\">2</span> <span class=\"token keyword\">WHERE</span> 条件<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>显示外连接</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表<span class=\"token number\">1</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">INNER</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">JOIN</span> 表<span class=\"token number\">2</span> <span class=\"token keyword\">ON</span> 连接条件<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"外连接\"><a href=\"#外连接\" class=\"headerlink\" title=\"外连接\"></a>外连接</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表<span class=\"token number\">1</span> <span class=\"token keyword\">LEFT</span><span class=\"token operator\">/</span><span class=\"token keyword\">RIGHT</span> <span class=\"token keyword\">JOIN</span> 表<span class=\"token number\">2</span> <span class=\"token keyword\">on</span> 连接条件<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>左外连接和右外连接可以相互转换，写哪个都行，改变表1和表2位置即可</li>\n</ul>\n<h2 id=\"自连接\"><a href=\"#自连接\" class=\"headerlink\" title=\"自连接\"></a>自连接</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> 字段列表 FORM 表<span class=\"token number\">1</span> 别名<span class=\"token number\">1</span> <span class=\"token keyword\">JOIN</span> 表<span class=\"token number\">1</span> 别名<span class=\"token number\">2</span> <span class=\"token keyword\">ON</span> 条件<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>可以是内连接，也可以是外连接。</li>\n</ul>\n<h2 id=\"联合查询\"><a href=\"#联合查询\" class=\"headerlink\" title=\"联合查询\"></a>联合查询</h2><p>关键字：union，union all</p>\n<p>联合查询就是把多次查询的结果和并起来，形成一个新的查询结果。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表<span class=\"token number\">1</span> \n<span class=\"token keyword\">UNION</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">ALL</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">SELECT</span> 字段列表 <span class=\"token keyword\">FROM</span> 表<span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>union all不会对结果去重，union会对结果去重</li>\n<li>使用联合查询时，多张表的列数必须保持一致，字段类型也需要保持一致</li>\n</ul>\n<h2 id=\"子查询\"><a href=\"#子查询\" class=\"headerlink\" title=\"子查询\"></a>子查询</h2><p>子查询就是在嵌套的SELECT语句，称为嵌套查询，又称为子查询。子查询的外部语句可以是INSERT&#x2F;UPDATE&#x2F;DELETE&#x2F;SELECT。</p>\n<p>子查询根据结构不同，分为：</p>\n<ol>\n<li>标量子查询：子查询结果为单个值</li>\n<li>列子查询：子查询结果为一列</li>\n<li>行子查询：子查询结果为一行</li>\n<li>表子查询：子查询结果为多行多列</li>\n</ol>\n<h1 id=\"事务\"><a href=\"#事务\" class=\"headerlink\" title=\"事务\"></a>事务</h1><p>事务是一组操作的集合，是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，这些操作要么同时成功，要么同时失败。</p>\n<h2 id=\"事务操作\"><a href=\"#事务操作\" class=\"headerlink\" title=\"事务操作\"></a>事务操作</h2><h3 id=\"查看-x2F-设置事务提交方式\"><a href=\"#查看-x2F-设置事务提交方式\" class=\"headerlink\" title=\"查看&#x2F;设置事务提交方式\"></a>查看&#x2F;设置事务提交方式</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> @<span class=\"token variable\">@autocommit</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SET</span> @<span class=\"token variable\">@autocommit</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li>如果值为1为自动提交，0为手动提交。</li>\n</ul>\n<h3 id=\"提交事务\"><a href=\"#提交事务\" class=\"headerlink\" title=\"提交事务\"></a>提交事务</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"回滚事务\"><a href=\"#回滚事务\" class=\"headerlink\" title=\"回滚事务\"></a>回滚事务</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ROLLBACK</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"开启事务\"><a href=\"#开启事务\" class=\"headerlink\" title=\"开启事务\"></a>开启事务</h3><p>这个方式就不需要再去设置事务提交方式了。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">START</span> <span class=\"token keyword\">TRANSACTION</span> 或 <span class=\"token keyword\">BEGIN</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"事务四大特性（ACID）\"><a href=\"#事务四大特性（ACID）\" class=\"headerlink\" title=\"事务四大特性（ACID）\"></a>事务四大特性（ACID）</h2><ol>\n<li>原子性（Atomicity）：事务时不可分割的最小操作单位，要么全部成功，要么全部失败。</li>\n<li>一致性（Consistency）：事务完成时，必须使所有的数据都保持一致状态。</li>\n<li>隔离性（Isolation）：数据库系统的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行。</li>\n<li>持久性（Durability）：事务一定提交或回滚，他对数据库中的数据的改变就是永久的。</li>\n</ol>\n<h2 id=\"并发事务问题\"><a href=\"#并发事务问题\" class=\"headerlink\" title=\"并发事务问题\"></a>并发事务问题</h2><ol>\n<li>脏读：一个事务读到另一个事务还没有提交的数据。</li>\n<li>不可重复读：一个事务先后读取同一条数据，单两次读取的数据不同，称之为不可重复读</li>\n<li>幻读：一个事务按照条件查询数据时，没有对应的数据行，但在插入数据时，这行数据已经存在，好像出现了幻影。</li>\n</ol>\n<h2 id=\"事务隔离级别\"><a href=\"#事务隔离级别\" class=\"headerlink\" title=\"事务隔离级别\"></a>事务隔离级别</h2><table>\n<thead>\n<tr>\n<th>隔离级别</th>\n<th>脏读</th>\n<th>不可重复度</th>\n<th>幻读</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Read uncommitted</td>\n<td>true</td>\n<td>true</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Read committed</td>\n<td>false</td>\n<td>true</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Repeatable Read（默认）</td>\n<td>false</td>\n<td>false</td>\n<td>true</td>\n</tr>\n<tr>\n<td>Serializable</td>\n<td>false</td>\n<td>false</td>\n<td>false</td>\n</tr>\n</tbody></table>\n<h3 id=\"查看事务隔离级别\"><a href=\"#查看事务隔离级别\" class=\"headerlink\" title=\"查看事务隔离级别\"></a>查看事务隔离级别</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> @<span class=\"token variable\">@TRANSACTION_ISLATION</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"设置事务隔离级别\"><a href=\"#设置事务隔离级别\" class=\"headerlink\" title=\"设置事务隔离级别\"></a>设置事务隔离级别</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">SET</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">SESSION</span>（会话级别）<span class=\"token operator\">|</span><span class=\"token keyword\">GLOBAL</span>（所有客户端有效）<span class=\"token punctuation\">]</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token keyword\">ISOLATION</span> <span class=\"token keyword\">LEVEL</span> 隔离级别<span class=\"token punctuation\">;</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h1 id=\"存储引擎\"><a href=\"#存储引擎\" class=\"headerlink\" title=\"存储引擎\"></a>存储引擎</h1><h2 id=\"MySQL体系结构\"><a href=\"#MySQL体系结构\" class=\"headerlink\" title=\"MySQL体系结构\"></a>MySQL体系结构</h2><p><img src=\"/assets/image-20230204132836-9pqs5f3.png\" alt=\"image\">​</p>\n<ul>\n<li><p>连接层</p>\n<p>最上层是一些客户端和链接服务，主要完成一些类似于连接处理，授权认证，及相关的安全方案。服务器也会为安全接入的每个客户端验证它所具有的操作权限。</p>\n</li>\n<li><p>服务层</p>\n<p>服务层主要完成大多数的核心功能，如SQL接口，并完成缓存的查询，SQL的分析和优化，部分内置函数的执行。所有跨存储引擎的功能也在这一层实现，如过程，函数等。</p>\n</li>\n<li><p>引擎层</p>\n<p>存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API和存储引擎通信。不同的存储引擎具不同的功能，这样我们可以根据自己的需要，来选择合适的存储因引擎。</p>\n</li>\n<li><p>存储层</p>\n<p>主要是将数据存储再文件系统之上，并完成与存储引擎的交互。</p>\n</li>\n</ul>\n<h2 id=\"存储引擎简介\"><a href=\"#存储引擎简介\" class=\"headerlink\" title=\"存储引擎简介\"></a>存储引擎简介</h2><p>存储引擎就是存储数据，建立索引，更新&#x2F;查询数据等技术的实现方式。存储引擎是基于表的，而不是基于库的，所以存储引擎也可以称为表类型。</p>\n<p>‍</p>\n<h2 id=\"存储引擎特点\"><a href=\"#存储引擎特点\" class=\"headerlink\" title=\"存储引擎特点\"></a>存储引擎特点</h2><p>‍</p>\n<p>‍</p>\n<p>‍</p>\n<p>‍</p>\n","text":"MySQL概述数据库相关概念 数据库（DataBase，DB） 存储数据的仓库，数据是有组织的进行存储的 数据库管理系统（DataBase Management System，DBMS） 操纵和管理数据库的大型软件 SQL（Structured Query Lanuahge，SQ...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"数据库","slug":"数据库","count":3,"path":"api/categories/数据库.json"}],"tags":[{"name":"关系型数据库","slug":"关系型数据库","count":1,"path":"api/tags/关系型数据库.json"},{"name":"MySQL","slug":"MySQL","count":1,"path":"api/tags/MySQL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#MySQL%E6%A6%82%E8%BF%B0\"><span class=\"toc-text\">MySQL概述</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">数据库相关概念</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#MySQL%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">MySQL数据库</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#MySQL%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA\"><span class=\"toc-text\">MySQL环境搭建</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Windows\"><span class=\"toc-text\">Windows</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Linux\"><span class=\"toc-text\">Linux</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Mac\"><span class=\"toc-text\">Mac</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#SQL\"><span class=\"toc-text\">SQL</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SQL%E9%80%9A%E7%94%A8%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">SQL通用语法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B3%A8%E9%87%8A\"><span class=\"toc-text\">注释</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SQL%E5%88%86%E7%B1%BB\"><span class=\"toc-text\">SQL分类</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">MySQL的数据类型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">数值类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">字符串类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">日期时间类型</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#DDL\"><span class=\"toc-text\">DDL</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">数据库操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">查询所有数据库</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">创建数据库</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">删除数据库</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">使用数据库</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">查询当前数据库</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A1%A8%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">表操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89%E7%9A%84%E8%A1%A8\"><span class=\"toc-text\">查询当前数据库所有的表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E8%A1%A8\"><span class=\"toc-text\">创建表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E8%A1%A8%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">查询表结构</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E8%A1%A8%E7%9A%84%E5%BB%BA%E8%A1%A8%E8%AF%AD%E5%8F%A5\"><span class=\"toc-text\">查询指定表的建表语句</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%B7%BB%E5%8A%A0%E8%A1%A8%E4%B8%AD%E5%AD%97%E6%AE%B5\"><span class=\"toc-text\">添加表中字段</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">修改字段类型</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E5%90%8D%E5%92%8C%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">修改字段名和字段类型</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5\"><span class=\"toc-text\">删除字段</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%90%8D\"><span class=\"toc-text\">修改表名</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E8%A1%A8\"><span class=\"toc-text\">删除表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E8%A1%A8%EF%BC%8C%E5%B9%B6%E9%87%8D%E6%96%B0%E5%88%9B%E5%BB%BA%E8%AF%A5%E8%A1%A8\"><span class=\"toc-text\">删除指定表，并重新创建该表</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#DML\"><span class=\"toc-text\">DML</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">添加数据</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">修改数据</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">删除数据</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#DQL\"><span class=\"toc-text\">DQL</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%8C%E6%95%B4%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">完整语法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">基础查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8E%BB%E9%87%8D%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">去重查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">运算符</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">比较运算符</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">逻辑运算符</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">条件查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">聚合函数</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">分组查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">排序查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">分页查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F\"><span class=\"toc-text\">执行顺序</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#DCL%EF%BC%88%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E4%BD%BF%E7%94%A8%E7%9A%84%E5%BE%88%E5%B0%91%EF%BC%89\"><span class=\"toc-text\">DCL（开发人员使用的很少）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3\"><span class=\"toc-text\">用户管理相关</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7\"><span class=\"toc-text\">查询用户</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7\"><span class=\"toc-text\">创建用户</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">修改用户密码</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7\"><span class=\"toc-text\">删除用户</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6\"><span class=\"toc-text\">权限控制</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%9D%83%E9%99%90\"><span class=\"toc-text\">查询权限</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%8E%88%E4%BA%88%E6%9D%83%E9%99%90\"><span class=\"toc-text\">授予权限</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%92%A4%E9%94%80%E6%9D%83%E9%99%90\"><span class=\"toc-text\">撤销权限</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">函数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">字符串函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">数值函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">日期函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%81%E7%A8%8B%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">流程函数</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">约束</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A3%B0%E6%98%8E%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">声明约束</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">外键约束</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE\"><span class=\"toc-text\">创建表时添加外键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E8%AF%AD%E5%8F%A5%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE\"><span class=\"toc-text\">修改语句添加外键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E5%A4%96%E9%94%AE\"><span class=\"toc-text\">删除外键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A4%96%E9%94%AE%E7%9A%84%E5%88%A0%E9%99%A4%E5%92%8C%E6%9B%B4%E6%96%B0%E8%A1%8C%E4%B8%BA\"><span class=\"toc-text\">外键的删除和更新行为</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">多表查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB\"><span class=\"toc-text\">多表关系</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%8E%B0%E8%B1%A1\"><span class=\"toc-text\">笛卡尔积现象</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E5%88%86%E7%B1%BB\"><span class=\"toc-text\">多表查询分类</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%86%85%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">内连接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%96%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">外连接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">自连接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">联合查询</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%90%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">子查询</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BA%8B%E5%8A%A1\"><span class=\"toc-text\">事务</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">事务操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B-x2F-%E8%AE%BE%E7%BD%AE%E4%BA%8B%E5%8A%A1%E6%8F%90%E4%BA%A4%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">查看&#x2F;设置事务提交方式</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8F%90%E4%BA%A4%E4%BA%8B%E5%8A%A1\"><span class=\"toc-text\">提交事务</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%9E%E6%BB%9A%E4%BA%8B%E5%8A%A1\"><span class=\"toc-text\">回滚事务</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%90%AF%E4%BA%8B%E5%8A%A1\"><span class=\"toc-text\">开启事务</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8B%E5%8A%A1%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7%EF%BC%88ACID%EF%BC%89\"><span class=\"toc-text\">事务四大特性（ACID）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">并发事务问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB\"><span class=\"toc-text\">事务隔离级别</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB\"><span class=\"toc-text\">查看事务隔离级别</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB\"><span class=\"toc-text\">设置事务隔离级别</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E\"><span class=\"toc-text\">存储引擎</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">MySQL体系结构</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">存储引擎简介</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">存储引擎特点</span></a></li></ol></li></ol>","author":{"name":"Hyc","slug":"blog-author","avatar":"https://blog-imgs-1307507646.cos.ap-beijing.myqcloud.com/%E5%A4%B4%E5%83%8F/head.jpg","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"HTML和CSS","uid":"3aecedd2cfed8e1ded8acda887b920ca","slug":"前端/前端基础/HTML和CSS","date":"2019-04-19T16:00:00.000Z","updated":"2023-02-04T10:22:39.576Z","comments":true,"path":"api/articles/前端/前端基础/HTML和CSS.json","keywords":null,"cover":null,"text":"相关概念网站和网页网站是指在因特网上根据一定的规则，使用HTML等制作的用于展示特定内容相关的网页集合。 网页是网站中的一页，通常是HTML格式的文件，通过浏览器来访问。 网页时构成网站的基本元素，它通常由图片、链接、文字、声音，视频等元素组成。通常我们看到的网页都是以.htm或...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"前端基础","slug":"前端基础","count":2,"path":"api/categories/前端基础.json"}],"tags":[{"name":"前端基础","slug":"前端基础","count":2,"path":"api/tags/前端基础.json"}],"author":{"name":"Hyc","slug":"blog-author","avatar":"https://blog-imgs-1307507646.cos.ap-beijing.myqcloud.com/%E5%A4%B4%E5%83%8F/head.jpg","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Java基础","uid":"3316961ecf1671c6065b043220187c47","slug":"Java/Java基础/Java基础","date":"2018-10-19T16:00:00.000Z","updated":"2023-02-04T10:24:22.151Z","comments":true,"path":"api/articles/Java/Java基础/Java基础.json","keywords":null,"cover":null,"text":"Java概述‍ Java环境搭建Windows‍ Linux‍ Mac‍ ‍ Java基础语法第一个Java程序‍ 注释注释就是对代码进行解释说明，不参与代码的执行，提高代码可读性。 Java中主要有三种注释：单行注释，多行注释，文档注释（后面学习）。 单行注释// 我是单行注释 多行注释/* 注释1 ...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"Java","slug":"Java","count":3,"path":"api/categories/Java.json"}],"tags":[{"name":"JavaWeb","slug":"JavaWeb","count":2,"path":"api/tags/JavaWeb.json"},{"name":"Java基础","slug":"Java基础","count":3,"path":"api/tags/Java基础.json"}],"author":{"name":"Hyc","slug":"blog-author","avatar":"https://blog-imgs-1307507646.cos.ap-beijing.myqcloud.com/%E5%A4%B4%E5%83%8F/head.jpg","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}